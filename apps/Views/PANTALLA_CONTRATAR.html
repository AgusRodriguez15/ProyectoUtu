<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buscar Servicios - Cliente</title>
  <link rel="stylesheet" href="../../public/CSS/styleStart.css">
</head>
<body>
  <header class="header">
    <div class="logo"><h1>üîç Plataforma de Oficios - Cliente</h1></div>
    <nav class="nav">
      <a href="PANTALLA_CONTRATAR.html" class="active">Buscar Servicios</a>
      <a href="misContrataciones.html">Mis Contrataciones</a>
      <a href="perfilUsuario.html">Mi Perfil</a>
      <a href="PANTALLA_MENSAJERIA.html">Mensajes</a>
    </nav>
  </header>

  <!-- Hero con buscador -->
  <section class="hero">
    <div class="hero-content">
      <h2>Encuentra el Servicio que Necesitas</h2>
      <p>Miles de proveedores profesionales listos para ayudarte</p>

      <form id="buscadorForm">
        <div class="search-container">
          <div class="search-box">
            <input type="text" id="search-input" placeholder="¬øQu√© servicio necesitas? (ej: plomero, electricista...)" autocomplete="on">
            <button type="submit">üîç Buscar</button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- Grid de servicios -->
  <section class="grid-section">
    <h2>Servicios Disponibles</h2>
    <div id="serviciosContainer" class="grid-container">
      <!-- Se cargan din√°micamente -->
    </div>
  </section>

  <script src="../../public/js/inicio.js"></script>
  <script>
    // Guardar id de usuario si viene en la URL (desde login)
    (function(){
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      if (id) {
        try { sessionStorage.setItem('usuarioActualId', id); } catch(e){}
        try { document.cookie = 'usuarioActualId=' + id + '; path=/'; } catch(e){}
        // limpiar el param de la URL sin recargar
        params.delete('id');
        const newUrl = window.location.pathname + (params.toString() ? ('?' + params.toString()) : '');
        history.replaceState({}, '', newUrl);
      }
    })();
  </script>
</body>
</html>